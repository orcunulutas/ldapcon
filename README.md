 # LDAP Connection Manager in Go

This code demonstrates how to manage LDAP connections in Go using a connection pool. It provides a detailed explanation of the code, making it easy for junior developers to understand.

## Overview

The code establishes connections to multiple LDAP servers, distributes user processing across these connections, and efficiently handles user searches.

## Step-by-Step Explanation

### 1. Importing Necessary Packages

```go
import (
    "fmt"
    "log"
    "sync"

    "singleton/ldapcon"
)
```

- The code imports the necessary packages:
  - `fmt` for input and output operations.
  - `log` for logging errors.
  - `sync` for synchronization.
  - `singleton/ldapcon` contains the LDAP connection manager and related functions.

### 2. Defining Constants and Variables

```go
const (
    baseDN = "dc=example,dc=com"
    filter = "(cn=John Doe)"
)

var attributes = []string{"dn", "cn", "mail"}
```

- `baseDN` and `filter` specify the base distinguished name and search filter for LDAP queries.
- `attributes` is a slice of strings specifying the attributes to retrieve for each user.

### 3. Creating LDAP Credential

```go
credential := ldapcon.NewCredential()
fmt.Println(credential.Username)
```

- `NewCredential()` creates a new LDAP credential object using the default configuration.
- The username of the credential is printed.

### 4. Discovering Domain Controllers

```go
var domainname string
fmt.Print("DC Domain name: ")
fmt.Scanln(&domainname)
domain := ldapcon.ADdomain(domainname)
dcServers, err := domain.DiscoveryDCs()
if err != nil {
    panic("DC ler tespit edilemedi")
}
fmt.Println(dcServers)
```

- The user is prompted to enter the domain name.
- The `ADdomain()` function creates an Active Directory domain object.
- `DiscoveryDCs()` discovers the domain controllers (DCs) for the specified domain.
- If DCs are not found, the program panics.
- The discovered DCs are printed.

### 5. Creating LDAP Connections

```go
manager := ldapcon.GetLDAPConnManager()
var ldapConnections []*ldapcon

Generated by [BlackboxAI](https://www.blackbox.ai)
